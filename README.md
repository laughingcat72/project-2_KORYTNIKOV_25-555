üìä –ü—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Python
–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ Python —Å SQL-–ø–æ–¥–æ–±–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∫–æ–º–∞–Ω–¥.

üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

‚úÖ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ (Create, Read, Update, Delete)

‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö: int, str, bool

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ID —Å –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º

‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —É—Å–ª–æ–≤–∏—è–º WHERE

‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ JSON-—Ñ–∞–π–ª—ã

‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ PrettyTable

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
database/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ main.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ core.py          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ë–î
‚îú‚îÄ‚îÄ engine.py        # –ö–æ–º–∞–Ω–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ utils.py         # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
‚îú‚îÄ‚îÄ decorators.py    # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îî‚îÄ‚îÄ constants.py     # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑—É—è Poetry (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd database

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make install
# –∏–ª–∏
poetry install
–°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑—É—è pip
bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install prettytable

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
python -m database.main
üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
bash
make project
# –∏–ª–∏
poetry run project
# –∏–ª–∏
python -m database.main
–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏:
sql
create_table users name:str age:int active:bool
drop_table users
list_tables
–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:
sql
insert into users values ("–ò–≤–∞–Ω", 25, true)
select from users
select from users where age = 25
update users set active = false where name = "–ò–≤–∞–Ω"
delete from users where ID = 1
info users
–û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
sql
help      # –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
exit      # –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã
üìù –ü—Ä–∏–º–µ—Ä —Å–µ—Å—Å–∏–∏
sql
>>> create_table employees name:str department:str salary:int active:bool
–¢–∞–±–ª–∏—Ü–∞ "employees" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: ID:int, name:str, department:str, salary:int, active:bool

>>> insert into employees values ("–ê–Ω–Ω–∞", "IT", 75000, true)
–ó–∞–ø–∏—Å—å —Å ID=1 —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É "employees".

>>> insert into employees values ("–ü–µ—Ç—Ä", "HR", 60000, true)
–ó–∞–ø–∏—Å—å —Å ID=2 —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É "employees".

>>> select from employees
+----+-------+------------+--------+--------+
| ID | name  | department | salary | active |
+----+-------+------------+--------+--------+
| 1  | –ê–Ω–Ω–∞  | IT         | 75000  | True   |
| 2  | –ü–µ—Ç—Ä  | HR         | 60000  | True   |
+----+-------+------------+--------+--------+

>>> update employees set salary = 80000 where name = "–ê–Ω–Ω–∞"
–ó–∞–ø–∏—Å—å —Å ID=1 –≤ —Ç–∞–±–ª–∏—Ü–µ "employees" —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞.

>>> delete from employees where department = "HR"
–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å "—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π"? [y/n]: y
–ó–∞–ø–∏—Å—å —Å ID=2 —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "employees".

>>> info employees
–¢–∞–±–ª–∏—Ü–∞: employees
–°—Ç–æ–ª–±—Ü—ã: ID:int, name:str, department:str, salary:int, active:bool
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 1
üîß Make –∫–æ–º–∞–Ω–¥—ã
bash
make install        # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make project        # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
make lint           # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–æ–º
make format         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
make build          # –°–æ–±—Ä–∞—Ç—å –ø–∞–∫–µ—Ç
make clean          # –û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
–¢–∏–ø	–ü—Ä–∏–º–µ—Ä	–û–ø–∏—Å–∞–Ω–∏–µ
int	42, -15	–¶–µ–ª—ã–µ —á–∏—Å–ª–∞
str	"–ü—Ä–∏–≤–µ—Ç", '–ú–∏—Ä'	–°—Ç—Ä–æ–∫–∏ (–≤ –∫–∞–≤—ã—á–∫–∞—Ö)
bool	true, false, 1, 0	–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
üõ° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:
@handle_db_errors - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

@confirm_action - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

@log_time - –∑–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ SELECT-–∑–∞–ø—Ä–æ—Å–æ–≤

–£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

–ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π (–ø–∞—Ä—Å–µ—Ä –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç eval)

üìÅ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
text
project/
‚îú‚îÄ‚îÄ data/           # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ users.json
‚îÇ   ‚îî‚îÄ‚îÄ employees.json
‚îú‚îÄ‚îÄ db_meta.json    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ ...
–í–∞–∂–Ω–æ: –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è git (.gitignore), —á—Ç–æ–±—ã –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
pytest tests/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞
make lint
üìÑ –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (db_meta.json):
json
{
  "tables": {
    "users": {
      "name": "users",
      "columns": [
        {"name": "ID", "type": "int"},
        {"name": "name", "type": "str"},
        {"name": "age", "type": "int"}
      ]
    }
  }
}
–î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (data/users.json):
json
{
  "rows": [
    {"ID": 1, "name": "–ò–≤–∞–Ω", "age": 25},
    {"ID": 2, "name": "–ê–Ω–Ω–∞", "age": 30}
  ]
}
‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ JOIN –æ–ø–µ—Ä–∞—Ü–∏–π

–ù–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ (–∫—Ä–æ–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ ID)

–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ NULL –∑–Ω–∞—á–µ–Ω–∏–π

–í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

üöÄ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É NULL –∑–Ω–∞—á–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∏–Ω–¥–µ–∫—Å—ã

–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É float —Ç–∏–ø–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (COUNT, SUM)



üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∫: "–ò–º—è –§–∞–º–∏–ª–∏—è"

ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: –Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –µ–≥–æ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ

–†–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω –¥–ª—è true/false: TRUE, True, true —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ

–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ exit –∏–ª–∏ Ctrl+C

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞
